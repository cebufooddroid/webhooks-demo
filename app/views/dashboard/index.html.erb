<% content_for :head do %>
  <%= javascript_include_tag 'dashboard', 'data-turbolinks-track': 'reload' %>
<% end %>

<div class="db ph3 ph6-l f5 items-center">
  <div class="items-center lh-copy flex mt3">
    <%= content_tag(:div, style: ('display:none' if @no_events), id: 'events-spinner') do %>
    <div class="dib dark-gray pv4">Receiving events</div>
    <div class="hk-button__spinner ml2" id="loading-future" style="visibility: hidden">
      <i class="hk-button__spinner__dot hk-button__spinner__dot--one"></i>
      <i class="hk-button__spinner__dot hk-button__spinner__dot--two"></i>
      <i class="hk-button__spinner__dot hk-button__spinner__dot--three"></i>
    </div>
    <% end %>
    <div class="flex-auto"></div>
    <button type="button" class="pulse-1 dib-ns pointer outline-transparent tc bg-blue hover-bg-light-blue white b br1 ba b--light-gray pv1 ph5 ph6-l ba b--black-20" id="loading-future-button" style="display: none">
      <span id="loading-future-done"></span>
    </button>
  </div>
</div>

<%= content_tag(:div, style: ('display:none' unless @no_events), id: 'getting-started') do %>
  <div class="w-100 mw7 center tc br1 pa4 mv3 bb b--light-gray">
    <img src="welcome_image.svg" alt="" class="w-80 mt3 mb6">

    <div class="f3 f2-ns mb4 purple lh-title">Getting started with Webhooks Viewer</div>
    <div class="f5 f4-ns lh-copy dark-gray ph5 mv2">
      This application has not received any webhook events as of yet, we assume its because you've not yet setup your webhooks.
     </div>
     <%= button_to "Setup Webhooks", setup_index_path, class: "hk-button--primary bg-gradient-blue mv3", method: 'get' %>
    </div>
  <div class="w-100 mw7 lh-copy center tc br1 pa4 mv3 dark-gray">For additional details view dev center documentation on <a href="https://devcenter.heroku.com/articles/app-webhooks-tutorial" target="_blank" class="link purple">Webhooks Viewer</a></div>
<% end %>

<%= content_tag(:div, style: ('display:none' if @no_events), id: 'events-table') do %>
  <div class="flex-auto flex flex-row bg-white flex ph3 ph6-l">
    <div class="events-list dt w-100 center" id="events-list">
      <div class="dt-row-ns" id="events-list-header">
        <div class="dn dtc-ns pv3 pr3 b bb b--light-gray gray ttu f6">Received At</div>
        <div class="dn dtc-ns pv3 pr3 b bb b--light-gray gray ttu f6">Resource</div>
        <div class="dn dtc-ns pv3 pr3 b bb b--light-gray gray ttu f6">Action</div>
        <div class="dn dtc-ns pv3 pr3 b bb b--light-gray gray ttu f6">Payload</div>
      </div>
    </div>
  </div>
<% end %>
